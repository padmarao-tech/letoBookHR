<!-- Page Content -->
<div class="content container-fluid">

    <!-- Page Header -->
    <div class="page-header">
        <div class="row">
            <div class="col-sm-12">
                <h3 class="page-title">Leave Settings</h3>
                <ul class="breadcrumb">
                    <li class="breadcrumb-item"><a href="index.html">Dashboard</a></li>
                    <li class="breadcrumb-item active">Leave Settings</li>
                </ul>
            </div>
            <div class="col-auto float-right ml-auto">
                <!-- /Page Content -->
                <button class="btn btn-md btn-primary" style="border-radius: 5px;"  printSectionId="print-section" [useExistingCss]="true" ngxPrint><i class="fa fa-print"></i> Print</button>
                &nbsp;
                <button class="btn btn-md btn-danger get-pdf" style="border-radius: 5px;"><i class="fa fa-file-pdf-o"></i> Export to Pdf</button>
                &nbsp;
                <button class="btn btn-md btn-success exceller" style="border-radius: 5px;"><i class="fa fa-file-excel-o"></i> Export to Excel</button>
            </div>
        </div>
    </div>
    <!-- /Page Header -->

    <div class="row">
        <div class="col-md-12">
            <!-- Annual Leave -->
            <div class="card leave-box" id="leave_annual">
                <div class="card-body">
                    <!-- <div class="h3 card-title with-switch">
                        Leave Policy
                        <div class="onoffswitch">
                            <input type="checkbox" name="onoffswitch" class="onoffswitch-checkbox" id="switch_annual"
                                checked>
                            <label class="onoffswitch-label" for="switch_annual">
                                <span class="onoffswitch-inner"></span>
                                <span class="onoffswitch-switch"></span>
                            </label>
                        </div>
                    </div> -->
                    
                    
                    <!-- Custom Policy -->
                    <div class="custom-policy">
                        <div class="leave-header">
                            <!-- <div class="title">Custom policy</div> -->
                            <div class="leave-action">
                                <button class="btn btn-sm btn-primary" type="button" data-toggle="modal"
                                    data-target="#add_custom_policy"><i class="fa fa-plus"></i> Add Leave
                                    Policy</button>
                            </div>
                        </div>
                        
                        <div class="table-responsive print-box" id="print-section">
                            <h3 class="page-title prt-header text-center">Leave Setting</h3>    
                            <div class="row printClass">
                                <div class="col-sm-6 m-b-20">
                                    <img src="assets/img/login-logo.png" class="inv-logo" alt="">
                                    <ul class="list-unstyled mb-0">
                                        <li>Leto Systems Pvt.Ltd</li>
                                        <li>No.47. 1st Floor</li>
                                        <li>Prestige Tower,Haddows Road,</li>
                                        <li>Nungamabakkam, Chennai - 600006</li>
                                    </ul>
                                </div>
                            </div>
                            <!-- -->
                            <table  datatable [dtOptions]="dtOptions" [dtTrigger]="dtTrigger" class="table table-striped custom-table datatable nowrap mb-0" id="pdfSection">
                                <div style="display:none;">
                                    <h3 style="font-weight:bold;">LetoSys Pvt Lt</h3>
                                    <h3>No:47, 1st Floor, </h3>
                                    <h3>Prestige Tower,Haddows Road,</h3>
                                    <h3>Nungamabakkam,Chennai - 600006</h3>
                                    <h3 class="text-center">Leave Setting</h3>
                                    <!-- <colgroup align="center"></colgroup> -->
                                </div>
                                <thead>
                                    <tr>
                                        <th>#</th>
                                        <th class="l-name text-left">Leave Policy Name </th>
                                        <!-- <th class="l-name">Leave Type</th>
                                        <th class="l-days text-center">Days</th>
                                        <th class="l-days text-center">Start Date</th>
                                        <th class="l-days text-center">End Date</th> -->
                                        <!-- <th class="l-assignee text-center">Assignee</th> -->
                                        <th class="text-center">Status </th>
                                        <!-- <th class="text-center prt">Print </th> -->
                                        <th class="text-right prt">Active</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr *ngFor="let custom of allCustomPolicy;let i = index">
                                        <td>{{custom.id}}</td>
                                        <td>{{custom.policyname}}Employee Leave</td>
                                        <!-- <td>{{custom.name}}</td>
                                        <td class="text-center">{{custom.days}}
                                        </td>
                                        <td  class="text-center">
                                            01/01/2000
                                        </td>
                                        <td  class="text-center">
                                            01/01/2000
                                        </td> -->
                                        <!-- <td class="text-center">
                                            <a routerLink="/employees/employeeprofile" class="avatar"><img alt=""
                                                    src="assets/img/profiles/avatar-02.jpg"></a>
                                            <a routerLink="/employees/employeeprofile">John Doe</a>
                                        </td> -->
                                        <td class="text-center">
                                            <div class="dropdown action-label">
                                                <a class="btn btn-white btn-sm btn-rounded dropdown-toggle" data-toggle="dropdown"
                                                    aria-expanded="false">
                                                    <i class="fa fa-dot-circle-o text-purple"></i>{{status || statusValue}}
                                                    Carry Forward
                                                </a>
                                                <div class="dropdown-menu dropdown-menu-right">
                                                    <a class="dropdown-item" (click)="getStatus('Active')"><i
                                                        class="fa fa-dot-circle-o text-purple"></i>
                                                        --Select--</a>
                                                    <a class="dropdown-item" (click)="getStatus('Carry Forward')"><i
                                                            class="fa fa-dot-circle-o text-purple"></i>
                                                            Carry Forward</a>
                                                    <a class="dropdown-item" (click)="getStatus('No')"><i
                                                            class="fa fa-dot-circle-o text-danger"></i>
                                                        No</a>
                                                    <!-- <a class="dropdown-item" (click)="getStatus('Approved')"><i
                                                            class="fa fa-dot-circle-o text-success"></i> Approved</a>
                                                    <a class="dropdown-item" (click)="getStatus('Declined')"><i
                                                            class="fa fa-dot-circle-o text-danger"></i>
                                                        Declined</a> -->
                                                </div>
                                            </div>
                                        </td>
                                        <!-- <td class="prt">
                                            <div class="leave-action text-center">
                                                <button class="btn btn-sm btn-primary"  printSectionId="print-section" [useExistingCss]="true" ngxPrint><i class="fa fa-print"></i></button>
                                                &nbsp;
                                                <button class="btn btn-sm btn-danger get-pdf"><i class="fa fa-file-pdf-o"></i></button>
                                                &nbsp;
                                                <button class="btn btn-sm btn-success exceller"><i class="fa fa-file-excel-o"></i></button>
                                            </div>
                                        </td> -->
                                        <td class="text-right prt">
                                            <div class="dropdown dropdown-action">
                                                <a aria-expanded="false" data-toggle="dropdown"
                                                    class="action-icon dropdown-toggle"><i
                                                        class="material-icons">more_vert</i></a>
                                                <div class="dropdown-menu dropdown-menu-right">
                                                    <a class="dropdown-item" data-toggle="modal"
                                                        data-target="#edit_custom_policy" (click)="edit(custom.id)"><i
                                                            class="fa fa-pencil m-r-5"></i> Edit</a>
                                                    <a class="dropdown-item" data-toggle="modal"
                                                        data-target="#delete_custom_policy"
                                                        (click)="tempId = custom.id"><i class="fa fa-trash-o m-r-5"></i>
                                                        Delete</a>
                                                </div>
                                            </div>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
            <!-- /Annual Leave -->

            <!-- Sick Leave -->
            
            <!-- /Sick Leave -->
            <div class="submit-section">
                <button class="btn btn-success submit-btn btn-style" type="submit"><i class="fa fa-save"></i> Save</button>
                <button class="btn btn-danger submit-btn btn-style" type="submit"><i class="fa fa-times"></i> Close</button>
            </div>
            
        </div>
        <!-- /Page Content -->
<style>
    .btn-style{
        border-radius: 9px;
        font-size: 14px;
        font-weight: 100;
        min-width: 100px;
        padding: 10px 20px;
        margin-left: 12px;
    }
    ::placeholder { /* Chrome, Firefox, Opera, Safari 10.1+ */
        color: #ccc;
        opacity: 1; /* Firefox */
        font-weight: 100;
    }
    </style>
    <!-- /Add Employee Modal -->
        <!-- Add Custom Policy Modal -->
        <div id="add_custom_policy" class="modal custom-modal fade" role="dialog">
            <div class="modal-dialog modal-dialog-centered modal-lg" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title">Add Leave Policy</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body">
                        <form (ngSubmit)="addCustom()" [formGroup]="addCustomPolicyForm">
                            <div class="row">
                                <div class="col-md-12 col-xs-12 form-group">
                                    <label>Leave Policy Name <span class="text-danger">*</span></label>
                                    <input type="text" class="form-control" placeholder="Leave Policy Name" [class.invalid]="addCustomPolicyForm.get('addPolicyNames').invalid && addCustomPolicyForm.get('addPolicyNames').touched"
                                    formControlName="addPolicyNames">
                                    <div
                                        *ngIf="addCustomPolicyForm.get('addPolicyNames').invalid && addCustomPolicyForm.get('addPolicyNames').touched">
                                        <small
                                            *ngIf="addCustomPolicyForm.get('addPolicyNames').invalid && addCustomPolicyForm.get('addPolicyNames').touched"
                                            class="text-danger"> *Leave Policy Name  is required</small>
                                    </div>
                                </div>
                                <div class="col-md-6 col-xs-12 ">
                                    <div class="form-group">
                                        <label>Leave Type <span class="text-danger">*</span></label>
                                        <select class="select floating form-control" placeholder="--Select--">
                                    <div
                                        *ngIf="addCustomPolicyForm.get('addNames').invalid && addCustomPolicyForm.get('addNames').touched">
                                        <small
                                            *ngIf="addCustomPolicyForm.get('addNames').invalid && addCustomPolicyForm.get('addNames').touched"
                                            class="text-danger"> *>Leave Type  is required</small>
                                    </div>
                                            <option>--Select--</option>
                                            <option>Annual Leave</option>
                                            <option>Sick Leave</option>
                                            <option>Medical Leave</option>
                                            <option>Maternity</option>
                                            <option>Paternity</option>
                                            <option>Casual Leave</option>
                                            <option>One Time Leave</option>
                                            <option>Other</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="col-md-6 col-xs-12">
                                    <div class="form-group">
                                        <label>Days <span class="text-danger">*</span></label>
                                        <input class="form-control"  placeholder="Days"
                                        [class.invalid]="addCustomPolicyForm.get('addDays').invalid && addCustomPolicyForm.get('addDays').touched"
                                        formControlName="addDays">
                                        <div
                                            *ngIf="addCustomPolicyForm.get('addDays').invalid && addCustomPolicyForm.get('addDays').touched">
                                            <small
                                                *ngIf="addCustomPolicyForm.get('addDays').invalid && addCustomPolicyForm.get('addDays').touched"
                                                class="text-danger"> *Days is required</small>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6 col-xs-12">
                                    <div class="form-group">
                                        <div *ngFor="let value of values; let i = index" style="margin-top: 7px;"> 
                                            <label>Leave Type <span class="text-danger">*</span></label>
                                            <select class="select floating form-control"  placeholder="--Select--" type="text" [(ngModel)]="value.value" #name="ngModel" name="value{{i}}">
                                                <option style="color: #ccc;">--Select--</option>
                                                <option>Annual Leave</option>
                                                <option>Sick Leave</option>
                                                <option>Medical Leave</option>
                                                <option>Maternity</option>
                                                <option>Paternity</option>
                                                <option>Casual Leave</option>
                                                <option>One Time Leave</option>
                                                <option>Other</option>
                                            </select>
                                        </div>
                                        <div *ngFor="let value of values;">
                                            {{ value.value }}
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6 col-xs-12">
                                    <div class="form-group">
                                        <div *ngFor="let value of values; let i = index" style="margin-top: 7px;"> 
                                            <label>Days <span class="text-danger">*</span></label>
                                            <!-- <span style="display:flex;"> -->
                                                <input class="form-control"  placeholder="Days" [(ngModel)]="value.value" #name="ngModel" name="value{{i}}">
                                                <!-- <i class="fa fa-times" (click)="removevalue(i)"></i> -->
                                            <!-- </span> -->
                                        </div>
                                        <div *ngFor="let value of values;">
                                            {{ value.value }}
                                        </div>
                                        
                                    </div>
                                    <!-- <i (click)="removevalue(i)" class="fa fa-times"></i> -->
                                </div>  
                                
                                <!-- <div class="col-md-6 col-xs-12 ">
                                    <div class="form-group">
                                        <label>Start Date <span class="text-danger">*</span></label>
                                        <div class="cal-icon">
                                            <input class="form-control datetimepicker" type="text" bsDatepicker type="text">
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6 col-xs-12 ">
                                    <div class="form-group">
                                        <label>End Date <span class="text-danger">*</span></label>
                                        <div class="cal-icon">
                                            <input class="form-control datetimepicker" type="text" bsDatepicker type="text">
                                        </div>
                                    </div>
                                </div> -->
                                <div class="col-md-6 col-xs-12 ">
                                    <div class="form-group row">
                                        <div class="col-md-10">
                                            <div class="checkbox">
                                                <label>
                                                    <!-- (click)="removevalue(i)" -->
                                                    <input type="checkbox" name="checkbox"> Include Holiday
                                                </label>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                
                                <!-- <div class="col-md-6 col-xs-12 ">
                                    <div class="leave-header">
                                        <div class="leave-action">
                                            <button class="btn btn-sm btn-primary" type="button" (click)="addvalue()"><i class="fa fa-plus"></i> Add Line</button>
                                        </div>
                                    </div>
                                </div>

                                <div class="col-md-12">
                                    <div class="col-md-6 col-xs-12">
                                        <div class="form-group">
                                            <div *ngFor="let value of values; let i = index" style="margin-top: 7px;"> 
                                                <label>Other<span class="text-danger">*</span></label>
                                                <input class="form-control" type="text" [(ngModel)]="value.values" #name="ngModel" name="value{{i}}">
                                            </div>
                                            <div *ngFor="let value of values;">
                                                {{ value.value }}
                                            </div>
                                        </div>
                                    </div>
                                </div> -->
                                
                                <div class="leave-action">
                                    <button class="btn btn-sm btn-primary" type="button" (click)="addTextBox()"><i class="fa fa-plus"></i> Add Line</button>
                                </div>
                                <!-- <div class="col-md-6 col-xs-12 form-group">
                                    <label>Leave Policy Type <span class="text-danger">*</span></label>
                                    <input type="text" class="form-control"
                                        [class.invalid]="addCustomPolicyForm.get('addDays').invalid && addCustomPolicyForm.get('addDays').touched"
                                        formControlName="addDays">
                                    <div
                                        *ngIf="addCustomPolicyForm.get('addDays').invalid && addCustomPolicyForm.get('addDays').touched">
                                        <small
                                            *ngIf="addCustomPolicyForm.get('addDays').invalid && addCustomPolicyForm.get('addDays').touched"
                                            class="text-danger"> *Leave Policy Type is required</small>
                                    </div>
                                </div> -->
                                <!-- <p-pickList [source]="sourceProducts" [target]="targetProducts" sourceHeader="Employee List"
                                    targetHeader="Selected Employee" dragdrop="true" [responsive]="true"
                                    [sourceStyle]="{'height':'300px'}" [targetStyle]="{'height':'300px'}" filterBy="name"
                                    sourceFilterPlaceholder="Search by name" targetFilterPlaceholder="Search by name">
                                    <ng-template let-product pTemplate="item">
                                        <div class="product-item">
                                            <div class="product-list-detail">
                                                <h5 class="p-mb-2">{{product.name}}</h5>
                                            </div>
                                        </div>
                                    </ng-template>
                                </p-pickList> -->
                            </div>
                            <div class="row">
                                <div class="col-md-12">
                                    <div class="form-group">
                                        <label>Notes</label>
                                        <textarea class="form-control" type="text" placeholder="Notes"></textarea>
                                    </div>
                                </div>
                            </div>
                            <!-- <div class="submit-section">
                                <button class="btn btn-primary submit-btn">Submit</button>
                            </div> -->

                            
                            

                            <div class="submit-section">
                                <button class="btn btn-success submit-btn btn-style"><i class="fa fa-save"></i> Save</button>
                                <button class="btn btn-success submit-btn btn-style" type="submit" style="background: darkgreen;border: darkgreen;"><i class="fa fa-save"></i> Save & New</button>
                                <button class="btn btn-danger submit-btn btn-style" data-dismiss="modal" aria-label="Close" type="submit"><i class="fa fa-times"></i> Close</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
        <!-- /Add Custom Policy Modal -->

        <!-- Edit Custom Policy Modal -->
        <div id="edit_custom_policy" class="modal custom-modal fade" role="dialog">
            <div class="modal-dialog modal-dialog-centered modal-lg" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title">Edit Custom Policy</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body">
                        <form (ngSubmit)="editCustom()" [formGroup]="editCustomPolicy">
                            <div class="form-group">
                                <label>Policy Name <span class="text-danger">*</span></label>
                                <input type="text" class="form-control"
                                    [class.invalid]="editCustomPolicy.get('editNames').invalid && editCustomPolicy.get('editNames').touched"
                                    formControlName="editNames">
                                <div
                                    *ngIf="editCustomPolicy.get('editNames').invalid && editCustomPolicy.get('editNames').touched">
                                    <small
                                        *ngIf="editCustomPolicy.get('editNames').invalid && editCustomPolicy.get('editNames').touched"
                                        class="text-danger"> *Policy name is required</small>
                                </div>
                            </div>
                            <div class="form-group">
                                <label>Days <span class="text-danger">*</span></label>
                                <input type="text" class="form-control" value="4"
                                    [class.invalid]="editCustomPolicy.get('editDays').invalid && editCustomPolicy.get('editDays').touched"
                                    formControlName="editDays">
                                <div
                                    *ngIf="editCustomPolicy.get('editDays').invalid && editCustomPolicy.get('editDays').touched">
                                    <small
                                        *ngIf="editCustomPolicy.get('editDays').invalid && editCustomPolicy.get('editDays').touched"
                                        class="text-danger"> *Days is required</small>
                                </div>
                            </div>
                            <p-pickList [source]="sourceProducts" [target]="targetProducts" sourceHeader="Employee List"
                                targetHeader="Selected Employee" dragdrop="true" [responsive]="true"
                                [sourceStyle]="{'height':'300px'}" [targetStyle]="{'height':'300px'}" filterBy="name"
                                sourceFilterPlaceholder="Search by name" targetFilterPlaceholder="Search by name">
                                <ng-template let-product pTemplate="item">
                                    <div class="product-item">
                                        <div class="product-list-detail">
                                            <h5 class="p-mb-2">{{product.name}}</h5>
                                        </div>
                                    </div>
                                </ng-template>
                            </p-pickList>

                            <div class="submit-section">
                                <button class="btn btn-primary submit-btn">Submit</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
        <!-- /Edit Custom Policy Modal -->

        <!-- Delete Custom Policy Modal -->
        <div class="modal custom-modal fade" id="delete_custom_policy" role="dialog">
            <div class="modal-dialog modal-dialog-centered">
                <div class="modal-content">
                    <div class="modal-body">
                        <div class="form-header">
                            <h3>Delete Custom Policy</h3>
                            <p>Are you sure want to delete?</p>
                        </div>
                        <div class="modal-btn delete-action">
                            <div class="row">
                                <div class="col-6">
                                    <a  class="btn btn-primary continue-btn"
                                        (click)='deleteCustom()'>Delete</a>
                                </div>
                                <div class="col-6">
                                    <a  data-dismiss="modal"
                                        class="btn btn-primary cancel-btn">Cancel</a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- /Delete Custom Policy Modal -->